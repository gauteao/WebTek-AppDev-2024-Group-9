<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hotel name</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <div id="navbar"></div>
</header>
    <div class="hotel-page-wrapper">
        <main>
            <div class="hotel-page-info">
                <h2 id="hotel-name"></h2>
                <h3 id="hotel-address-country"></h3>
                <img id="hotel-main-image" src="" alt="Main Hotel Image">

                <p class="lead">Luxury Accommodation in the Heart of the City</p>
                <div class="about-section">
                    <p>Welcome to our hotel. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sodales est sit amet justo aliquet, at faucibus mauris bibendum. Vestibulum condimentum turpis nec massa feugiat, eget ullamcorper erat convallis.</p>
                    <br>
                    <p><strong>Our hotel offers various amenities including:</strong></p>
                    </ul>
                </div>
                <div class="features">
                    <div class="feature">
                        <i class="fa-solid fa-person-swimming fa-2x"></i>
                        <p>Swimming Pool</p>
                    </div>
                    <div class="feature">
                        <i class="fa-solid fa-spa fa-2x"></i>
                        <p>Spa & Wellness Center</p>
                    </div>
                    <div class="feature">
                        <i class="fa-solid fa-dumbbell fa-2x"></i>
                        <p>Fitness Center</p>
                    </div>
                    <div class="feature">
                        <i class="fa-solid fa-utensils fa-2x"></i>
                        <p>Restaurant & Bar</p>
                    </div>
                    <div class="feature">
                        <i class="fa-solid fa-wifi fa-2x"></i>
                        <p>Free Wi-Fi</p>
                    </div>
                </div>
                <div class="image-gallery">
                    <!-- Images will be added here -->
                </div>
                <p id="hotel-prices"></p> <!-- Prices will be added here -->
                <p id="hotel-price"></p>
                <button class="btn-btn-primary">Book Now</button>
            </div>
        </main>
    </div>
<footer id="main-footer">
    <p>Stay Finder &copy; 2024, All Rights Reserved</p>
</footer>
<script src="script.js"></script>
<script>
    // Get the URL parameters
    var urlParams = new URLSearchParams(window.location.search);

    // Get the hotel ID
    var hotelId = urlParams.get('hotelId');

    // Fetch the hotel data from the backend
    fetch('http://localhost:8080/hotels/' + hotelId)
        .then(response => response.json())
        .then(hotel => {
            // Use the hotel data to populate the HTML elements on the page
            document.getElementById('hotel-name').textContent = hotel.name;
            document.getElementById('hotel-address-country').textContent = `${hotel.address}, ${hotel.country}`;

            // Display the prices
            var pricesDiv = document.createElement('div');
            pricesDiv.id = 'hotel-prices';
            hotel.prices.forEach(price => {
                var priceP = document.createElement('p');
                priceP.textContent = price.source + ': $' + price.amount;
                pricesDiv.appendChild(priceP);
            });
            document.querySelector('.hotel-page-info').appendChild(pricesDiv);

            // Calculate the minimum price
            var minPrice = Math.min(...hotel.prices.map(price => price.amount));

            // Display the minimum price
            document.getElementById('hotel-price').textContent = "From $" + minPrice + " per night";

            // Set the source of the main image to the first image of the hotel
            document.getElementById('hotel-main-image').src = `images/hotel${hotelId}/1.avif`;

            // Generate the image paths and add them to the image gallery
            var imageGallery = document.querySelector('.image-gallery');
            for (var i = 1; i <= 3; i++) {
                var img = document.createElement('img');
                img.src = `images/hotel${hotelId}/${i}.avif`;
                img.alt = "Hotel";
                imageGallery.appendChild(img);
            }
        })
        .catch(error => console.error('Error:', error));

    // Initialize the commonOnLoad function
    commonOnLoad();
</script>
<script src="https://kit.fontawesome.com/753e2a5a55.js" crossorigin="anonymous"></script>
</script>
</body>
</html>